#
#   Create stream with statics
#
testqql
CREATE DURABLE STREAM S (
    CLASS A (        
        F FLOAT DECIMAL (10)
    );    
)
OPTIONS (fixedType)
/
>deltix.timebase.api.messages.service.ErrorMessage,TIMESTAMP,SYMBOL,TYPE,details,errorType,level,messageText,seqNum
!shellmatch
0,*,,SYSTEM,_,SUCCESS,INFO,Stream created,0
!end
#
#   Describe
#
testdesc S
DURABLE STREAM S (
    CLASS A (
        F FLOAT DECIMAL (10)
    );
)
OPTIONS (FIXEDTYPE; PERIODICITY = 'IRREGULAR'; HIGHAVAILABILITY = FALSE)
!end
#
#   Drop stream via qql
#
test drop stream S
>deltix.timebase.api.messages.service.ErrorMessage,TIMESTAMP,SYMBOL,TYPE,details,errorType,level,messageText,seqNum
!shellmatch
0,*,,SYSTEM,_,SUCCESS,INFO,Stream dropped,0
!end
#
#   Test illegal fixed-type creation
#
testqql
CREATE DURABLE STREAM S (
    CLASS A (        
        F FLOAT DECIMAL (10)
    );   
    CLASS B (        
        F FLOAT DECIMAL (10)
    );  
)
OPTIONS (fixedType)
/
!shellmatch
*IllegalFixedTypeStreamException*
!end
