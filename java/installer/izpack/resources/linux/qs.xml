<?xml version="1.0" encoding="iso-8859-1" standalone="yes"?>
<pack name="QuantServer" id="QuantServer" required="no" condition="qsNoError">
    <description>Deltix server components for market data aggregation and trading.${qs.error}</description>

    <!-- remove old files while update -->
    <updatecheck>
        <include name="QuantServer/bin/**" />
        <include name="QuantServer/lib/**" />
        <include name="QuantServer/jre/**" />
        <include name="QuantServer/cpp/**" />
        <include name="QuantServer/python/**" />
        <include name="QuantServer/web/**" />
        <include name="QuantServer/tools/**" />
        <include name="QuantServer/plugins.repository/**" />
        <include name="QuantServer/docs/**" />
    </updatecheck>

    <!-- Specific files for Linux -->

    <!-- bin directory -->
    <fileset dir="${izpack.generated.path}/cmd" targetdir="${INSTALL_PATH}/QuantServer/bin" override="true">
        <include name="*.sh"/>
    </fileset>
    <fileset dir="bin" targetdir="${INSTALL_PATH}/QuantServer/bin" override="true">
        <include name="Deltix.ico"/>
        <include name="runjava.jar"/>
        <include name="runjar.jar"/>
        <include name="splash.jpg"/>
    </fileset>
    <parsable type="at">
        <fileset targetdir="${INSTALL_PATH}/QuantServer/bin"
                 includes="*.sh"/>
    </parsable>
    <executable type="bin" stage="never" keep="true">
        <fileset targetdir="${INSTALL_PATH}/QuantServer/bin"
                 includes="*.sh"/>
    </executable>

    <!-- jre -->
    <file src="${izpack.generated.path}/jre-x64-linux.zip"
          targetdir="${INSTALL_PATH}/QuantServer/jre"
          unpack="true"/>
    <executable targetfile="${INSTALL_PATH}/QuantServer/jre/bin/java" type="bin" stage="never" keep="true"/>

    <!-- Common files for all platform specific versions of installer -->

    <!-- lib -->
    <fileset dir="lib" targetdir="${INSTALL_PATH}/QuantServer/lib" override="true">
        <include name="**"/>
        <exclude name="deltix-license-server-*"/>
    </fileset>

    <!-- dxapi -->
    <fileset dir="cpp" targetdir="${INSTALL_PATH}/QuantServer/cpp" override="true">
        <include name="dxapi/linux/**"/>
    </fileset>

    <fileset dir="python" targetdir="${INSTALL_PATH}/QuantServer/python" override="true">
        <include name="dxapi/linux/**"/>
        <include name="samples/**"/>
        <include name="packages/**"/>
    </fileset>
	
	<!-- samples -->
    <fileset dir="java/quantserver/samples/src/main" targetdir="${INSTALL_PATH}/QuantServer/samples" override="true">
        <include name="**"/>
    </fileset>

    <!-- web -->
    <fileset dir="web" targetdir="${INSTALL_PATH}/QuantServer/web" override="true">
        <include name="**"/>
    </fileset>

    <!-- tools -->
    <fileset dir="tools" targetdir="${INSTALL_PATH}/QuantServer/tools" override="true">
        <include name="DXWatchdog/**"/>
        <include name="build/**"/>
        <include name="vcruntime/**"/>
    </fileset>

    <!-- plugins -->
    <fileset dir="plugins.repository" targetdir="${INSTALL_PATH}/QuantServer/plugins.repository" override="true">
        <include name="**"/>
    </fileset>

    <!-- docs -->
    <fileset dir="docs" targetdir="${INSTALL_PATH}/QuantServer/docs" override="true">
        <include name="guide/**"/>
        <include name="quantserver/**"/>
    </fileset>

</pack>