<?xml version="1.0" encoding="iso-8859-1" standalone="yes"?>
<pack name="QuantServer" id="QuantServer" required="no" condition="qsNoError">
    <description>Deltix server components for market data aggregation and trading.${qs.error}</description>

    <!-- remove old files while update -->
    <updatecheck>
        <include name="QuantServer/bin/**" />
        <include name="QuantServer/lib/**" />
        <include name="QuantServer/jre/**" />
        <include name="QuantServer/cpp/**" />
        <include name="QuantServer/python/**" />
        <include name="QuantServer/web/**" />
        <include name="QuantServer/tools/**" />
        <include name="QuantServer/plugins.repository/**" />
        <include name="QuantServer/docs/**" />
    </updatecheck>

    <!-- Specific files for Windows -->

    <!-- bin directory -->
    <fileset dir="${izpack.generated.path}/cmd" targetdir="${INSTALL_PATH}/QuantServer/bin" override="true">
        <include name="*.cmd"/>
    </fileset>
    <fileset dir="bin" targetdir="${INSTALL_PATH}/QuantServer/bin" override="true">
        <include name="Deltix.ico"/>
        <include name="splash.jpg"/>
        <include name="winutils.exe"/> <!-- Hadoop native utils -->
        <include name="windscamd64.dll"/>
        <include name="windscx86.dll"/>
        <include name="winsvcx86.dll"/>
        <include name="winsvcamd64.dll"/>
        <include name="launcherx86.exe"/>
        <include name="launcheramd64.exe"/>
    </fileset>
    <parsable type="plain">
        <fileset targetdir="${INSTALL_PATH}/QuantServer/bin"
                 includes="*.cmd" />
    </parsable>

    <!-- jre -->
    <file src="${izpack.generated.path}/jre-x64-windows.zip"
          targetdir="${INSTALL_PATH}/QuantServer/jre"
          unpack="true"/>

    <!-- Common files for all platform specific versions of installer -->

    <!-- .NET -->
    <fileset dir="dotnet" targetdir="${INSTALL_PATH}/QuantServer/dotnet" override="true">
        <include name="**"/>
        <exclude name="Tools"/>
    </fileset>

    <!-- lib -->
    <fileset dir="lib" targetdir="${INSTALL_PATH}/QuantServer/lib" override="true">
        <include name="**"/>
        <exclude name="deltix-license-server-*"/>
    </fileset>

    <!-- dxapi -->
    <fileset dir="cpp" targetdir="${INSTALL_PATH}/QuantServer/cpp" override="true">
        <include name="dxapi/windows/**"/>
    </fileset>

    <fileset dir="python" targetdir="${INSTALL_PATH}/QuantServer/python" override="true">
        <include name="dxapi/windows/**"/>
        <include name="samples/**"/>
        <include name="packages/**"/>
    </fileset>
	
	<!-- samples -->
    <fileset dir="java/quantserver/samples/src/main" targetdir="${INSTALL_PATH}/QuantServer/samples" override="true">
        <include name="**"/>
    </fileset>

    <!-- web -->
    <fileset dir="web" targetdir="${INSTALL_PATH}/QuantServer/web" override="true">
        <include name="**"/>
    </fileset>

    <!-- tools -->
    <fileset dir="tools" targetdir="${INSTALL_PATH}/QuantServer/tools" override="true">
        <include name="DXWatchdog/**"/>
        <include name="build/**"/>
        <include name="vcruntime/**"/>
    </fileset>

    <!-- plugins -->
    <fileset dir="plugins.repository" targetdir="${INSTALL_PATH}/QuantServer/plugins.repository" override="true">
        <include name="**"/>
    </fileset>

    <!-- docs -->
    <fileset dir="docs" targetdir="${INSTALL_PATH}/QuantServer/docs" override="true">
        <include name="guide/**"/>
        <include name="quantserver/**"/>
    </fileset>

</pack>